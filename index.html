<html>
<!-- Copyright 2022 Friedrich Beckmann
     This program is free software: you can redistribute it and/or modify
     it under the terms of the GNU General Public License as published by
     the Free Software Foundation, either version 3 of the License, or
     (at your option) any later version. -->
<head>
<link rel="stylesheet" href="sw.css">
</head>
<body>
<section ondrop="handle_ondrop(event)" ondragover="handle_dragover(event)" ondragenter="handle_dragenter(event)">
<h1>SearchWing Ardupilot Logviewer</h1>
<table class="viewcontrol">
     <tr>
          <td>
               <p> Drag&Drop your dataflash *.bin file here!
                    <input type="file" id="files" name="file" accept=".bin" onchange="handle_onfilechange(event)">
                    </input>
               </p>
          </td>
          <td onclick="upload_click()">
               <p>Upload Form</p>
          </td>
     </tr>
</table>
</section>

<section id="analyzepage" style="display:none">
<div id="overview">
     <table>
          <tr>
               <td>Logging Start</td>
               <td id="logstart">-</td>
          </tr>
          <tr>
               <td><a href="https://ardupilot.org/plane/docs/logmessages.html#acc">Logging Duration</a></td>
               <td id="logduration">-</td>
          </tr>
          <tr>
               <td>Distance</td>
               <td id="distance">- km</td>
          </tr>
          <tr>
               <td>Max Altitude Difference</td>
               <td id="maxaltdiff">- m</td>
          </tr>
          <tr>
               <td>Flight time</td>
               <td id="flighttime">-</td>
          </tr>
          <tr>
               <td>Average Speed</td>
               <td id="avgspeed">- km/h</td>
          </tr>
          <tr>
               <td>Maximum Speed</td>
               <td id="maxspeed">- km/h</td>
          </tr>
          <tr>
               <td>Maximum Speed Up</td>
               <td id="maxupspeed">- km/h</td>
          </tr>
          <tr>
               <td>Maximum Speed Down</td>
               <td id="maxdownspeed">- km/h</td>
          </tr>
     </table>
</div>

<div id="map"></div>

<nav>
<ul id="msglist">
<!-- The item tree will be build here -->
</ul>
</nav>
<plot>
<div id="plot"></div>
</plot>

<table>
<tr>
     <th>y</th>
     <th>y2</th>
     <th></th>
     <th>y3</th>
     <th>y4</th>
</tr>     
<tr>
     <td ondrop="axis_drop(event)" ondragover="axis_dragover(event)">
          <div id="y" class="axis"></div>
     </td>
     <td ondrop="axis_drop(event)" ondragover="axis_dragover(event)">
          <div id="y2" class="axis"></div>
     </td>
     <td ondrop="delete_trace(event)" ondragover="axis_dragover(event)" style="width:300px; text-align:center; vertical-align: center;">
          Delete
     </td>
     <td ondrop="axis_drop(event)" ondragover="axis_dragover(event)">
          <div id="y3" class="axis"></div>
     </td>
     <td ondrop="axis_drop(event)" ondragover="axis_dragover(event)">
          <div id="y4" class="axis"></div>
     </td>
</tr>
</table>

</section>

<section id="uploadpage" style="display:none">
<form>
     Select image to upload:
     <input type="file" name="fileToUpload" id="fileToUpload">
     <input type="text" name="ulLocation" id="ulLocation">
     <input type="button" value="Send" name="ulSend" onclick="on_ulSend()">
     <input type="button" value="Cancel" name="ulCancel">
     <input type="submit" value="Upload Image" name="submit">
</form>
</section>
</body>

<script type="text/javascript" src="dataflash.js"></script>
<script type="text/javascript" src="navbar.js"></script>
<script type="text/javascript" src="plotly-2.14.0.min.js"></script>
<script type="text/javascript" src="map.js"></script>
<script type="text/javascript" src="main.js"></script>
<script>
</script>
</body>
</html>
